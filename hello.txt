 def project_path="company"
pipeline{
  agent any
  stages {  
    stage('Cloning Git') {
      steps {
          script {
                 echo "Cloning Git"
                }
        git branch:'master', url:'https://github.com/chakri1998/fulldemo.git'        
      }      
    }
   
 
         stage('Clean Old Packages') {             
             steps{
             
                 script { 
                  dir("${project_path}")
  {
                    echo "Clean Old Packages"
                }
                          
        sh label: 'Clean', script: 'mvn clean'
        
    }
             }
         }
        stage('Maven Compile') {
        steps{
            script {
                    dir("${project_path}")
  {
                    echo "Maven Compile"
                }
         
        sh label: 'Compile', script: 'mvn compile'
        
    }
        }
        }

    stage('Maven install') {
    steps{
        script {
                   dir("${project_path}")
  {  
                    echo "Maven Package"
                }
     
    sh label: 'INSTALL', script: 'mvn install'
    
    
    }
    }
 }
 stage('Archive-Artifacts') {
 steps{
   archiveArtifacts 'target/*.war'
   }
  }
 

}
}
