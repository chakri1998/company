 def project_path="company"
pipeline{
  agent any
  stages {  
    stage('Cloning Git') {
      steps {
          script {
                 echo "Cloning Git"
                }
        git branch:'master', url:'https://github.com/chakri1998/fulldemo.git'        
      }      
    }
    script{
  dir("${env.project_path}")
  {
         stage('Clean Old Packages') {             
             steps{
                 script {                    
                    echo "Clean Old Packages"
                }
                          
        sh label: 'Clean', script: 'mvn clean'
        
    
             }
         }
        stage('Maven Compile') {
        steps{
            script {
                   
                    echo "Maven Compile"
                }
         
        sh label: 'Compile', script: 'mvn compile'
        
    
        }
        }

    stage('Maven install') {
    steps{
        script {
                    
                    echo "Maven Package"
                }
     
    sh label: 'INSTALL', script: 'mvn install'
    
    
    }
    }
 
 stage('Archive-Artifacts') {
 steps{
   archiveArtifacts 'target/*.war'
   }
  }
 }
}
}
}
